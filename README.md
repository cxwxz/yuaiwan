# yuaiwan
使用jdbctemplete模拟orm框架和mybatis的resultmap实现了更方便的dao层框架

使用技术:springmvc+jdbctemplete+druid+redis+logback
1.环境:myeclipse10,maven3.1.1,mysql5.6.21.1,jdk1.7
2.该框架实现了:
	log:
		1.使用slf4j+logkack桥接了jdk和tomcat的日志,根日志指向ROOT
		2.日志日滚,默认保存7天的日志,异常日志单独一个文件夹,并有异常邮件
		
	数据层:
		1.数据库表根据自定义注解实现了可配置的数据库自动建表,自动增加列,自动删除列,自动校验数据库中同名字段和实体类中字段配置差异并输出差异
		2.抽象出basedao,根据jdbctemplete高度自定义集成了一套增删改查方法,更方便操作使用
		3.自定义注解中支持三种主键创建模式:自增、uuid、自定义,其中在使用自增或uuid的模式时不用再关心主键的创建,自动生成
		4.自定义注解中支持写入字段的备注,创建表的时候会自动给这个字段加上备注
		5.自定义注解中支持2种字段类型:主键、正常字段；其中正常字段又分为5中小的特殊类型:正常字段、删除标记、创建时间、修改时间、版本号；其中删除标记、创建时间、修改时间、版本号的字段均会自动赋值和修改，编辑的时候自动校验版本号,省去了人工维护这些字段的麻烦
		6.支持查看druid的数据监控
		7.自定义数据源,数据源管理器,数据库支持读写分离,支持一主多从的形式
		8.支持读库负载均衡
		9.在插入或编辑数据完成后会给对象的主键,版本号,创建时间,修改时间,对应的字段自动赋值
		10.实现自定义注解模拟mybatis的resultMap支持自定义返回类型
		11.支持数据库实体类无主键,多主键等特殊情况
		
	业务逻辑层:
		1.使用org.springframework.cache.support.SimpleCacheManager,在service方法上注解驱动使用redis
		2.声明式事务管理,server方法级别的事务管理,方法内异常事务自动回滚

	缓存:
		1.使用org.springframework.data.redis.serializer.StringRedisSerializer代替jdk的序列化
		2.自定义redis的管理器,支持设置缓存过期时间,在不连接redis或者连接异常的时候会有异常抛出,但是不影响功能的正常使用
		3.支持spring的缓存注解
	
	微信:
		1.提供了与微信连接的各种工具类

3.待解决问题:
	1.读写分离未支持读库故障转移(待优化)
	
